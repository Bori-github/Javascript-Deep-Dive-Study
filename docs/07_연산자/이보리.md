# 07장 연산자

#### 연산자<sup>operator</sup>

- 하나 이상의 표현식을 대상으로 산술, 할당, 비교, 논리, 타입, 지수 연산 등을 수행하여 하나의 값을 생성

#### 피연산자<sup>operand</sup>

- 연산자의 대상
- 값으로 평가될 수 있는 **표현식**이어야 한다.

⇒ 피연산자와 연산자의 조합으로 이뤄진 연산자 표현식도 값으로 평가될 수 있는 **표현식**이어야 한다.

⇒ 연산자는 값으로 평가된 피연산자를 연산해 새로운 값을 만든다.

## 📂 7.1 산술 연산자

#### 산술 연산자<sup>arithmetic operator</sup>

- 피연산자를 대상으로 수학적 계산을 수행하여 새로운 값을 생성
- 산술 연산이 불가능한 경우 `NaN`을 반환

### 이항<sup>binary</sup> 산술 연산자

- 2개의 피연산자를 산술 연산하여 숫자 값을 생성
- 모든 이항 산술 연산자는 피연산자의 값을 변경하는 부수 효과<sup>side effect</sup>가 없다.
  ⇒ 어떤 산술 연산을 해도 피연산자의 값은 바뀌지 않고, 언제나 새로운 값을 생성

| 이항 산술 연산자 |  의미  | 부수 효과 | 예시              |
| :--------------: | :----: | :-------: | ----------------- |
|       `+`        |  덧셈  |     ✕     | `5 + 2; // → 7`   |
|       `-`        |  뺄셈  |     ✕     | `5 - 2; // → 3`   |
|       `*`        |  곱셈  |     ✕     | `5 * 2; // → 10`  |
|       `/`        | 나눗셈 |     ✕     | `5 / 2; // → 2.5` |
|       `%`        | 나머지 |     ✕     | `5 % 2; // → 1`   |

### 단항<sup>unary</sup> 산술 연산자

- 1개의 피연산자를 산술 연산하여 숫자 값을 생성

| 단항 산술 연산자 |                        의미                        | 부수 효과 |
| :--------------: | :------------------------------------------------: | :-------: |
|       `++`       |                        증가                        |     ✕     |
|       `--`       |                        감소                        |     ✕     |
|       `+`        | 어떠한 효과도 없다. 음수를 양수로 반전하지 않는다. |     ○     |
|       `-`        |   양수를 음수로, 음수를 양수로 반전한 값을 반환    |     ○     |

#### 증가/감소(`++`/`--`) 연산자의 부수효과

- 증가/감소 연산을 하면 피연산자의 값을 변경하는 암묵적 할당이 이루어짐

[예제 07-03]

```javascript
var x = 1;

x++; // x = x + 1
console.log(x); // 2

x--; // x = x - 1
console.log(x); // 1
```

#### 증가/감소(`++`/`--`) 연산자 위치의 의미

- 피연산자 **앞**에 위치한 **전위 증가/감소 연산자<sup>prefix increment/decrement operator</sup>** 는 먼저 피연산자의 값을 증가/감소시킨 후, 다른 연산을 수행
- 피연산자 **뒤**에 위치한 **후위 증가/감소 연산자<sup>postfix increment/decrement operator</sup>** 는 먼저 다른 연산을 수행한 후, 피연산자의 값을 증가/감소시킨다.

[예제 07-04]

```javascript
var x = 5;
var result;

// 선할당 후증가
result = x++;
console.log(result, x); // 5 6

// 선증가 후할당
result = ++x;
console.log(result, x); // 7 7

// 선할당 후감소
result = x--;
console.log(result, x); // 7 6

// 선감소 후할당
result = --x;
console.log(result, x); // 5 5
```

#### `+` 단항 연산자를 사용한 타입 변환

- 피연산자를 변경하지 않고 **숫자 타입으로 변환**한 값을 생성하여 반환

[예제 07-06]

```javascript
var x = '1';

// 문자열 → 숫자로 타입 변환
console.log(+x); // 1
// 부수 효과 없음
console.log(x); // "1"

// 불리언 → 숫자로 타입 변환
x = true;
console.log(+x); // 1

x = false;
console.log(+x); // 0

// 숫자로 타입 변환할 수 없는 문자열이므로 NaN 반환
x = 'Hello';
console.log(+x); // NaN
// 부수 효과 없음
console.log(x); // "Hello"
```

#### `-` 단항 연산자를 사용한 피연산자의 부호 반전

- `-` 단항 연산자도 숫자 타입이 아닌 피연산자에 사용하면 피연산자를 숫자 타입으로 변환하여 반환
- 이때 부호를 반전한 값을 생성해 반환

[예제 07-07]

```javascript
// 부호 반전
-(-10); // 10

// 문자열 → 숫자로 타입 변환, 부호 반전
-'10'; // 10

// 불리언 → 숫자로 타입 변환, 부호 반전
-true; // -1

// 숫자로 타입 변환할 수 없는 문자열이므로 NaN 반환
-'Hello'; // NaN
```

### 문자열 연결 연산자

- `+`연산자는 피연산자 중 **하나 이상이 문자열인 경우 문자열 연결 연산자로 동작**

[예제 07-09]

```javascript
// 문자열 연결 연산자
'1' + 2; // '12'

// 산술 연산자
1 + 2; // 3

// true는 1로 타입 변환된다.
1 + true; // 2

// false는 0으로 타입 변환된다.
1 + false; // 1

// null는 0으로 타입 변환된다.
1 + null; // 1

// undefined는 숫자로 타입 변환되지 않는다.
+undefined; // NaN
1 + undefined; // NaN
```

#### 암묵적 타입 변환<sup>implicit coercion</sup> / 타입 강제 변환<sup>type coercion</sup>

- 개발자의 의도와 상관없이 자바스크립트 엔진에 의해 암묵적으로 타입이 자동 변환되기도 한다.

## 📂 7.2 할당 연산자

#### 할당 연산자<sup>assignment operator</sup>

- 우항에 있는 피연산자의 평가 결과를 좌항에 있는 변수에 할당
- 변수의 값이 변하는 부수효과가 있다.

| 할당 연산자 | 예       |  동일 표현  | 부수 효과 |
| :---------: | -------- | :---------: | :-------: |
|     `=`     | `x = 5`  |   `x = 5`   |     ○     |
|    `+=`     | `x += 5` | `x = x + 5` |     ○     |
|    `-=`     | `x -= 5` | `x = x - 5` |     ○     |
|    `*=`     | `x *= 5` | `x = x * 5` |     ○     |
|    `/=`     | `x /= 5` | `x = x / 5` |     ○     |
|    `%=`     | `x %= 5` | `x = x % 5` |     ○     |

![](https://i.imgur.com/vgoEzSJ.png)
![](https://i.imgur.com/nBOY3tM.png)

#### 할당문은 값으로 평가되는 표현식인 문으로서 할당된 값으로 평가된다.

- 여러 변수에 동일한 값을 연쇄 할당도 가능

[예제 07-10]

```javascript
var x;

// 할당문은 표현식인 문이다.
console.log((x = 10)); // 10

var a, b, c;

// 연쇄 할당. 오른쪽에서 왼쪽으로 진행
a = b = c = 0;

console.log(a, b, c); // 0 0 0
```

## 📂 7.3 비교 연산자

#### 비교 연산자<sup>comparison operator</sup>

- 좌항과 우항의 피연산자를 비교한 다음 그 결과를 불리언 값으로 반환
- if 문, for 문과 같은 제어문의 조건식에서 주로 사용

### 동등/일치 비교 연산자

- 좌항과 우항의 피연산자가 같은 값으로 평가되는지 비교해 불리언 값으로 반환
- 비교하는 엄격도에 정도가 다르다

#### 동등 비교<sup>loose equality</sup> 연산자

- 기호 : `==`
- 좌항과 우항의 피연산자를 비교할 때 먼저 **암묵적 타입 변환을 통해 타입을 일치시킨** 후 같은 값인지 비교
  ⇒ 좌항과 우항의 피연산자가 타입은 다르더라도 암묵적 타입 변환 후 같은 값일 수 있다면 `true` 반환
- 결과를 예측하기 어렵고 실수하기 쉽다.

[예제 07-12]

```javascript
5 == 5; // true
5 == '5'; // true

'0' == ''; // false
0 == ''; // true
0 == '0'; // true
false == 'false'; // false
false == '0'; // true
false == null; // false
false == undefined; // false
```

#### 일치 비교<sup>strict equality</sup> 연산자

- 기호 : `===`
- 좌항과 우항의 피연산자가 **타입도 같고 값도 같은 경우**에 한하여 `true` 반환
- 암묵적 타입 변환을 하지 않아 결과를 예측하기 쉽다.

[예제 07-14]

```javascript
5 === 5; // true
5 === '5'; // false
```

#### `NaN`의 일치 비교 연산

- `NaN`은 자신과 일치하지 않는 유일한 값
- `NaN`인지 아닌지 확인하기 위해서 `isNaN` 함수 사용

[예제 07-15]

```javascript
NaN === NaN; // false

isNaN(NaN); // true
isNaN(10); // false
isNaN(1 + undefined); // true
```

#### 양의 `0`과 음의 `0`의 비교 연산

- 일치 비교/동등 비교 모두 true 반환

[예제 07-17]

```javascript
0 === -0; // true
0 == -0; // true
```

> #### `object.is` 메서드
>
> - ES6에서 도입
> - 예측 가능한 정확한 비교 결과를 반환
>
> ```javascript
> -0 === +0; // true
> object.is(-0, +0); // false
>
> NaN === NaN; // false
> object.is(NaN, NaN); // true
> ```

#### 부동등 비교 연산자(`!=`) / 불일치 비교 연산자(`!==`)

- 각각 동등 비교(`==`) 연산자와 일치 비교(`===`) 연산자의 반대 개념

[예제 07-19]

```javascript
// 부동등 비교
5 != 8; // true
5 != 5; // false
5 != '5'; // false

// 불일치 비교
5 !== 8; // true
5 !== 5; // false
5 !== '5'; // true
```

### 대소 관계 비교 연산자

- 피연산자의 크기를 비교하여 불리언 값을 반환

| 대소 관계 비교 연산자 | 예제     |         설명          | 부수 효과 |
| :-------------------: | -------- | :-------------------: | :-------: |
|          `>`          | `x > y`  |    x가 y보다 크다     |     ✕     |
|          `<`          | `x < y`  |    x가 y보다 작다     |     ✕     |
|         `>=`          | `x >= y` | x가 y보다 크거나 같다 |     ✕     |
|         `<=`          | `x <= y` | x가 y보다 작거나 같다 |     ✕     |

[예제 07-20]

```javascript
5 > 0; // true
5 > 5; // false
5 >= 5; // true
5 <= 5; // true
```

## 📂 7.4 삼항 조건 연산자

#### 삼항 조건 연산자<sup>ternary operator</sup>

- 조건식의 평가 결과에 따라 반환할 값을 결정
- 부수효과 없다.
- 삼항 조건 연산자 표현식
<p style="text-align: center; background-color: #f0f0f0;">조건식 <strong>?</strong> 조건식이 true일 때 반환할 값 <strong>:</strong> 조건식이 false일 때 반환할 값</p>

- `조건식` : 불리언 타입의 값으로 평가될 표현식으로 조건식의 평가 결과가 불리언 값이 아니면 불리언 값으로 암묵적 타입 변환 된다.

[예제 07-21]

```javascript
var x = 2;

// 2 % 2 => 0
// 0은 false로 암묵적 타입 변환된다.
var result = x % 2 ? '홀수' : '짝수';

console.log(result); // 짝수

// if...else 문을 사용하여 삼항 조건 연산자 표현식과 유사하게 처리
if (x % 2) result = '홀수';
else result = '짝수';
```

#### 삼항 조건 연산자와 `if ...else`문의 차이점

- `if ...else`문은 표현식이 아닌 문
- 삼항 조건 연산자 표현식은 값으로 평가할 수 있는 표현식인 문
  ⇒ 따라서 삼항 조건 연산자 표현식은 값처럼 다른 표현식의 일부가 될 수 있다.

## 📂 7.5 논리 연산자

#### 논리 연산자<sup>logical operator</sup>

- 우항과 좌항의 피연산자(부정 논리 연산자의 경우 우항의 피연산자)를 논리 연산
  - 논리합(`||`) 또는 논리곱(`&&`) 연산자 표현식의 평가 결과는 불리언 값이 아닐 수도 있다.
  - 논리합(`||`) 또는 논리곱(`&&`) 연산자 표현식은 언제나 2개의 피연산자 중 어느 한쪽으로 평가된다.
  - 논리 부정(`!`) 연산자는 언제나 불리언 값을 반환한다. 단, 피연산자가 반드시 불리언 값일 필요는 없다.

| 논리 연산자 | 의미        | 부수 효과 |
| :---------: | ----------- | :-------: |
|   `\|\|`    | 논리합(OR)  |     ✕     |
|    `&&`     | 논리곱(AND) |     ✕     |
|     `!`     | 부정(NOT)   |     ✕     |

[예제 07-25]

```javascript
true || true; // true
true || false; // true
false || true; // true
false || false; // false

true && true; // true
true && false; // false
false && true; // false
false && false; // false

!true; // false
!false; // true

// 암묵적 타입 변환
!0; // true
!'Hello';
false;

// 단축 평가
'Cat' && 'Dog'; // 'Dog'
```
