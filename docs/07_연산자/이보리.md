# 07장 연산자

#### 연산자<sup>operator</sup>

- 하나 이상의 표현식을 대상으로 산술, 할당, 비교, 논리, 타입, 지수 연산 등을 수행하여 하나의 값을 생성

#### 피연산자<sup>operand</sup>

- 연산자의 대상
- 값으로 평가될 수 있는 **표현식**이어야 한다.

⇒ 피연산자와 연산자의 조합으로 이뤄진 연산자 표현식도 값으로 평가될 수 있는 **표현식**이어야 한다.

⇒ 연산자는 값으로 평가된 피연산자를 연산해 새로운 값을 만든다.

## 📂 7.1 산술 연산자

#### 산술 연산자<sup>arithmetic operator</sup>

- 피연산자를 대상으로 수학적 계산을 수행하여 새로운 값을 생성
- 산술 연산이 불가능한 경우 `NaN`을 반환

### 이항<sup>binary</sup> 산술 연산자

- 2개의 피연산자를 산술 연산하여 숫자 값을 생성
- 모든 이항 산술 연산자는 피연산자의 값을 변경하는 부수 효과<sup>side effect</sup>가 없다.
  ⇒ 어떤 산술 연산을 해도 피연산자의 값은 바뀌지 않고, 언제나 새로운 값을 생성

| 이항 산술 연산자 |  의미  | 부수 효과 | 예시              |
| :--------------: | :----: | :-------: | ----------------- |
|       `+`        |  덧셈  |     ✕     | `5 + 2; // → 7`   |
|       `-`        |  뺄셈  |     ✕     | `5 - 2; // → 3`   |
|       `*`        |  곱셈  |     ✕     | `5 * 2; // → 10`  |
|       `/`        | 나눗셈 |     ✕     | `5 / 2; // → 2.5` |
|       `%`        | 나머지 |     ✕     | `5 % 2; // → 1`   |

### 단항<sup>unary</sup> 산술 연산자

- 1개의 피연산자를 산술 연산하여 숫자 값을 생성

| 단항 산술 연산자 |                        의미                        | 부수 효과 |
| :--------------: | :------------------------------------------------: | :-------: |
|       `++`       |                        증가                        |     ✕     |
|       `--`       |                        감소                        |     ✕     |
|       `+`        | 어떠한 효과도 없다. 음수를 양수로 반전하지 않는다. |     ○     |
|       `-`        |   양수를 음수로, 음수를 양수로 반전한 값을 반환    |     ○     |

#### 증가/감소(`++`/`--`) 연산자의 부수효과

- 증가/감소 연산을 하면 피연산자의 값을 변경하는 암묵적 할당이 이루어짐

[예제 07-03]

```javascript
var x = 1;

x++; // x = x + 1
console.log(x); // 2

x--; // x = x - 1
console.log(x); // 1
```

#### 증가/감소(`++`/`--`) 연산자 위치의 의미

- 피연산자 **앞**에 위치한 **전위 증가/감소 연산자<sup>prefix increment/decrement operator</sup>** 는 먼저 피연산자의 값을 증가/감소시킨 후, 다른 연산을 수행
- 피연산자 **뒤**에 위치한 **후위 증가/감소 연산자<sup>postfix increment/decrement operator</sup>** 는 먼저 다른 연산을 수행한 후, 피연산자의 값을 증가/감소시킨다.

[예제 07-04]

```javascript
var x = 5;
var result;

// 선할당 후증가
result = x++;
console.log(result, x); // 5 6

// 선증가 후할당
result = ++x;
console.log(result, x); // 7 7

// 선할당 후감소
result = x--;
console.log(result, x); // 7 6

// 선감소 후할당
result = --x;
console.log(result, x); // 5 5
```

#### `+` 단항 연산자를 사용한 타입 변환

- 피연산자를 변경하지 않고 **숫자 타입으로 변환**한 값을 생성하여 반환

[예제 07-06]

```javascript
var x = '1';

// 문자열 → 숫자로 타입 변환
console.log(+x); // 1
// 부수 효과 없음
console.log(x); // "1"

// 불리언 → 숫자로 타입 변환
x = true;
console.log(+x); // 1

x = false;
console.log(+x); // 0

// 숫자로 타입 변환할 수 없는 문자열이므로 NaN 반환
x = 'Hello';
console.log(+x); // NaN
// 부수 효과 없음
console.log(x); // "Hello"
```

#### `-` 단항 연산자를 사용한 피연산자의 부호 반전

- `-` 단항 연산자도 숫자 타입이 아닌 피연산자에 사용하면 피연산자를 숫자 타입으로 변환하여 반환
- 이때 부호를 반전한 값을 생성해 반환

[예제 07-07]

```javascript
// 부호 반전
-(-10); // 10

// 문자열 → 숫자로 타입 변환, 부호 반전
-'10'; // 10

// 불리언 → 숫자로 타입 변환, 부호 반전
-true; // -1

// 숫자로 타입 변환할 수 없는 문자열이므로 NaN 반환
-'Hello'; // NaN
```

### 문자열 연결 연산자

- `+`연산자는 피연산자 중 **하나 이상이 문자열인 경우 문자열 연결 연산자로 동작**

[예제 07-09]

```javascript
// 문자열 연결 연산자
'1' + 2; // '12'

// 산술 연산자
1 + 2; // 3

// true는 1로 타입 변환된다.
1 + true; // 2

// false는 0으로 타입 변환된다.
1 + false; // 1

// null는 0으로 타입 변환된다.
1 + null; // 1

// undefined는 숫자로 타입 변환되지 않는다.
+undefined; // NaN
1 + undefined; // NaN
```

#### 암묵적 타입 변환<sup>implicit coercion</sup> / 타입 강제 변환<sup>type coercion</sup>

- 개발자의 의도와 상관없이 자바스크립트 엔진에 의해 암묵적으로 타입이 자동 변환되기도 한다.

## 📂 7.2 할당 연산자

#### 할당 연산자<sup>assignment operator</sup>

- 우항에 있는 피연산자의 평가 결과를 좌항에 있는 변수에 할당
- 변수의 값이 변하는 부수효과가 있다.

| 할당 연산자 | 예       |  동일 표현  | 부수 효과 |
| :---------: | -------- | :---------: | :-------: |
|     `=`     | `x = 5`  |   `x = 5`   |     ○     |
|    `+=`     | `x += 5` | `x = x + 5` |     ○     |
|    `-=`     | `x -= 5` | `x = x - 5` |     ○     |
|    `*=`     | `x *= 5` | `x = x * 5` |     ○     |
|    `/=`     | `x /= 5` | `x = x / 5` |     ○     |
|    `%=`     | `x %= 5` | `x = x % 5` |     ○     |

![](https://i.imgur.com/vgoEzSJ.png)
![](https://i.imgur.com/nBOY3tM.png)

#### 할당문은 값으로 평가되는 표현식인 문으로서 할당된 값으로 평가된다.

- 여러 변수에 동일한 값을 연쇄 할당도 가능

[예제 07-10]

```javascript
var x;

// 할당문은 표현식인 문이다.
console.log((x = 10)); // 10

var a, b, c;

// 연쇄 할당. 오른쪽에서 왼쪽으로 진행
a = b = c = 0;

console.log(a, b, c); // 0 0 0
```
