# 31장 `RegExp`

## 📂 31.1 정규 표현식이란?
#### 정규 표현식<sup>regular expression</sup>
- 일정한 패텬을 가진 문자열의 집합을 표현하기 위해 사용하는 형식 언어(formal language)
- 문자열을 대상으로 **패턴 매칭 기능** 제공
  - 패턴 매칭 기능 : 특정 패턴과 일치하는 문자열을 검색하거나 추출 또는 치환할 수 있는 기능
  예) 회원가입 화면에서 사용자로부터 입력받은 휴대폰 번호가 유효한 번호인지 체크
- 장점 : 반복문과 조건문 없이 패턴을 정의하고 테스트하는 것을 간단히 체크 가능
- 단점 : 주석이나 공백을 허용하지 않고, 여러 가지 기호를 혼합하여 사용하기 때문에 가독성이 좋지 않다.

## 📂 31.2 정규 표현식의 생성
정규 표현식 객체를 생성 방법
- 정규 표현식 리터럴(일반적인 방법)
- `RegExp` 생성자 함수

### 정규 표현식 리터럴
- 패턴(pattern)과 플래그(flag)로 구성

![](https://i.imgur.com/ME1vpas.png)

```javascript
const target = 'Is this all there is?';

// 패턴: is
// 플래그: i (대소문자를 구별하지 않고 검색)
const regexp = /is/i;

// test 메서드 : 타겟 문자열에 대해 정규 표현식의 패턴을 검색하여 매칭 결과를 불리언 값으로 반환
regexp.test(target); // true
```

### `RegExp` 생성자 함수

```javascript
/**
 * pattern: 정규 표현식의 패턴
 * flags: 정규 표현식이 플래그(g, i, m, n, y)
 */

new RegExp(pattern[, flags])
```

```javascript
const target = 'Is this all there is?';

const regexp = new RegExp(/is/i); // ES6
// const regexp = new RegExp(/is/, 'i');
// const regexp = new RegExp('is', 'i');

regexp.test(target); // true
```

## 📂 31.3 `RegExp` 메서드
### `RegExp.prototype.exec`
- 인수로 전달받은 문자열에 대해 정규 표현식의 패턴을 검색하여 매칭 결과를 배열로 반환
- 매칭 결과가 없을 경우 `null` 반환
- `exec` 메서드는 문자열 내의 모든 패턴을 검색하는 *`g`플래그*를 지정해도 첫 번째 매칭 결과만 반환하므로 주의해야한다.

```javascript
const target = 'Is this all there is?';
const regExp = /is/;

regExp.exec(target);
// ['is', index: 5, input: 'Is this all there is?', groups: undefined]
```

### `RegExp.prototype.test`
- 인수로 전달받은 문자열에 대해 정규 표현식의 패턴을 검색하여 매칭 결과를 불리언 값으로 반환

```javascript
const target = 'Is this all there is?';
const regExp = /is/;

regExp.test(target); // true
```

### `String.prototype.match`
- `String` 표준 빌트인 객체가 제공하는 `match` 메서드는 대상 문자열과 인수로 전달받은 정규 표현식과 매칭 결과를 배열로 반환

```javascript
const target = 'Is this all there is?';
const regExp = /is/;

target.match(regExp);
// ['is', index: 5, input: 'Is this all there is?', groups: undefined]
```

#### `exec` 메서드와 차이점
- `exec` 메서드는 *`g`플래그*를 지정해도 **첫 번째 매칭 결과만 반환**
- `String.prototype.match` 메서드는 *`g`플래그*가 지정되면 **모든 매칭 결과를 배열로 반환**

```javascript
const target = 'Is this all there is?';
const regExp = /is/g;

target.match(regExp); // (2) ['is', 'is']
```

## 📂 31.4 플래그
- 정규 표현식의 검색 방식을 설정
- 선택적으로 사용할 수 있고, 순서와 상관없이 하나 이상의 플래그를 동시에 설정할 수 있다.
  - 어떠한 플래그를 사용하지 않은 경우 **대소문자를 구별**하고, 문자열에 패턴 검색 매칭 대상이 1개 이상 존재해도 **첫 번째 매칭한 대상만 검색하고 종료**한다.

| 플래그 | 의미 | 설명 |
|:----:|:----:|----|
| i | Ignore case | 대소문자를 구별하지 않고 패턴 검색 |
| g | Global | 전역 검색 |
| m | Multi line | 개행이 되어도 패턴 검색 |

```javascript
const target = 'Is this all there is?';

// 대소문자를 구별하여 한 번만 검색
target.match(/is/);
// ['is', index: 5, input: 'Is this all there is?', groups: undefined]

// 대소문자를 구별하지 않고 한 번만 검색
target.match(/is/i);
// ['Is', index: 0, input: 'Is this all there is?', groups: undefined]

// 대소문자를 구별하고 전역 검색
target.match(/is/g); // (2) ['is', 'is']

// 대소문자를 구별하지 않고 전역 검색
target.match(/is/ig); // (3) ['Is', 'is', 'is']
```