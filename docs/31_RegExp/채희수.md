# 31장 RegExp

### 정규 표현식(regular expression)이란? 일정한 패턴을 가진 문자열의 집합을 표현하기 위해 사용하는 형식 언어

- 대부분의 프로그래밍 언어와 코드 에디터에 내장되어 있다

### **패턴 매칭 기능**을 통해 반복문과 조건문 없이 패턴을 정의하고 테스트하는 것을 간단히 체크할 수 있다. 다만 주석이나 공백을 허용하지 않고 여러 가지 기호를 혼합하여 사용하기 때문에 가독성이 좋지 않다.

#### 생성

- **정규 표현식 리터럴** = /패턴/플래그

  - / = 시작, 종료기호
  - /시작과 종료기호 사이에 패턴 입력/
  - 종료기호 뒤에 플래그 입력

- **RegExp 생성자 함수** : 변수를 사용해 동적으로 객체 생성가능

  ```jsx
  const count = (str, char) => (str.match(new RegExp(char, "gi")) ?? []).length;
  ```

#### 메서드

```jsx
regExp.exec(target);
//인수로 전달받은 문자열에 대해 정규 표현식의 패턴을 검색하여 매칭 결과를 배열로 반환
//없는 경우 null 반환
//g플래그를 지정해도 첫 번째 매칭 결과만 반환

regExp.test(target);
//매칭 결과를 불리언 값으로 반환

target.match(regExp);
//매칭 결과를 배열로 반환
//g플래그 지정시 모든 매칭 결과를 배열로 반환
```

#### 플래그(옵션, 순서 상관없이 하나 이상의 플래그를 동시에 설정 가능)

| 플래그 | 의미        | 설명                                                       |
| ------ | ----------- | ---------------------------------------------------------- |
| i      | Ignore case | 대소문자를 구별하지 않고 패턴 검색                         |
| g      | Global      | 대상 문자열 내에서 패턴과 일치하는 모든 문자열을 전역 검색 |
| m      | Multi line  | 문자열의 행이 바뀌더라도 패턴 검색 계속                    |

- 어떠한 플래그를 사용하지 않은 경우 대소문자를 구별해서 패턴을 검색하고, 검색 매칭 대상이 1개 이상 존재해도 첫 번째 대칭한 대상만 검색하고 종료한다.

#### 패턴

```jsx
// 임의의 3자리 문자열을 대소문자를 구별하여 전역 검색
// 빈칸도 포함해서 3자리씩 나눠서 배열로 반환
const regExp = /.../g;

// 반복 검색 {m,n} : 최소 m번, 최대 n번 반복되는 문자열
// 콤마 뒤에 공백이 있으면 정상 작동하지 않으니 주의
const regExp = /A{1,2}/g;

// {n} : n번 반복되는 문자열
// {n,} : 최소 n번 이상 반복되는 문자열
// + : {1,} 최소 한번 이상 반복되는 문자열
const regExp = /A+/g;

// ? : {0,1} 앞선 패턴이 최대 한 번(0번 포함) 이상 반복되는 문자열
const regExp = /colou?r/g; //'color', 'colour'

// OR 검색
// | or
// 분해되지 않는 단어 레벨을 검색하기 위해 + 함께 사용
const regExp = /A+|B+/g;

// []내의 문자는 or로 동작. 위의 정규표현식과 같다.
const regExp = /[AB]+/g;

// NOT 검색
// [...]안에서 ^은 not의 의미다.
// 하지만 밖에서는 문자의 시작을 의미! $는 문자의 마지막!
```

| 패턴 | 의미                                 | 범위          |
| ---- | ------------------------------------ | ------------- |
| \d   | 숫자                                 | [0-9]         |
| \D   | 숫자가 아닌 문자                     | [^0-9]        |
| \w   | 알파벳,숫자,언더스코어               | [A-Za-z0-9_]  |
| \W   | 알파벳,숫자,언더스코어가 아닌 문자   | [^a-za-z0-9_] |
| \s   | 여러 가지 공백 문자(스페이스, 탭 등) |               |
