# 08장 제어문

#### 제어문<sup>control flow statement</sup>

- 조건에 따라 코드 블록을 실행(조건문)하거나 반복 실행(반복문)할 때 사용.
- 일반적으로 코드는 위에서 아래 방향으로 순차적으로 실행
  ⇒ 제어문을 사용하여 **코드의 실행 흐름을 인위적으로 제어**할 수 있다.

## 📂 8.1 블록문

#### 블록문<sup>block statement/compound statement</sup>

- 0개 이상의 문을 중괄호로 묶은 것
- 자바스크립트는 블록문을 하나의 실행 단위로 취급
- 블록문은 단독으로 사용 가능하나 일반적으로 제어문이나 함수를 정의할 때 사용한다.

[예제 08-01]

```javascript
// 블록문
{
  var foo = 10;
}

// 제어문
var x = 1;
if (x < 10) {
  x++;
}

// 함수 선언문
function sum(a, b) {
  return a + b;
}
```

## 📂 8.2 조건문

#### 조건문<sup>conditional statement</sup>

- 주어진 조건식<sup>conditional expression</sup>의 평가 결과에 따라 코드 블록의 실행을 결정
- 조건식은 불리언 값으로 평가될 수 있는 표현식이다.

### `if...else`문

- 주어진 조건식의 평가 결과, 즉 **논리적 참 또는 거짓에 따라 실행할 코드 블록을 결정**
- 조건식의 평가 결과가 `ture`일 경우, `if`문의 코드 블록 실행
- 조건식의 평가 결과가 `false`일 결우, `else`문의 코드 블록 실행

```javascript
if (조건식) {
  // 조건식이 참이면 이 코드 블록이 실행
} else {
  // 조건식이 거짓이면 이 코드 블록이 실행
}
```

#### `if`문의 조건식은 불리언 값으로 평가되어야 한다.

- `if`문의 조건식이 불리언이 아닌 값으로 평가되면 자바스크립트 엔진에 의해 암묵적으로 불리언 값으로 강제 변환되어 실행할 코드 블록을 결정

#### 조건식이 여러 개일 경우

- `else if`문을 사용
  - `else if`문은 여러 번 사용할 수 있다.
- `else if`문과 `else`문은 옵션이므로 사용하지 않을 수도 있다.
- `if`문과 `else`문은 2번 이상 사용할 수 없다.

```javascript
if (조건식1) {
  // 조건식1이 참이면 이 코드 블록이 실행
} else if (조건식2) {
  // 조건식2이 참이면 이 코드 블록이 실행
} else {
  // 조건식1, 조건식2가 거짓이면 이 코드 블록이 실행
}
```

[예제 08-02]

```javascript
var num = 2;
var kind;

if (num > 0) {
  kind = '양수';
} else if (num < 0) {
  kind = '음수';
} else {
  kind = '영';
}

console.log(kind); // 양수

// 코드 블록 내의 문이 하나뿐이라면 중괄호 생략 가능
if (num > 0) kind = '양수';
else if (num < 0) kind = '음수';
else kind = '영';
```

#### `if...else`문을 삼항 조건 연산자로 작성하기

- 삼항 조건 연산자는 값으로 평가되는 표현식을 만들어 값처럼 사용할 수 있기 때문에 변수에 할당할 수 있다.
- `if...else`문은 표현식이 아닌 문이므로 변수에 할당할 수 없다.

[예제 08-04]

```javascript
var x = 2;
var result;

if (x % 2) {
  result = '홀수';
} else {
  result = '짝수';
}

console.log(result); // 짝수

// 삼항 조건 연산자
var result = x % 2 ? '홀수' : '짝수';

// 경우의 수가 세 가지인 삼항 조건 연산자
var kind = x ? (x > 0 ? '양수' : '음수') : '영';
```

### `switch`문

- 주어진 표현식을 평가하여 그 값과 일치하는 표현식을 갖는 `case`문으로 실행 흐름을 옮김
- `case`문 : 상황<sup>case</sup>을 의미하는 표현식을 지정하고 콜론으로 마침
  - 그 뒤에 실행할 문들을 위치 시킴
- 일치하는 `case`문이 없다면 실행 순서는 `default`문으로 이동
  - `default`문은 선택사항
- `switch`문의 표현식은 불리언 값보다는 문자열이나 숫자 값인 경우가 많다.
  - `switch`문은 다양한 상황에 따라 실행할 코드 블록을 결정할 때 사용

```javascript
switch (표현식) {
  case 표현식1:
    // 표현식과 표현식1이 일치하면 실행될 문;
    break;
  case 표현식2:
    // 표현식과 표현식2이 일치하면 실행될 문;
    break;
  default:
  // 표현식과 일치하는 case문이 없을 때 실행될 문;
}
```

#### `break`문

- `break` 키워드로 구성된 `break`문은 코드 블록에서 탈출하는 역할을 한다.
- `break`문이 없다면 `case`문의 표현식과 일치하지 않더라도 `switch`문을 탈출하지 않고 `switch`문이 끝날 때까지 이후 모든 `case`문과 `default`문을 실행한다.
  ⇒ 폴스루<sup>fall through</sup>

[예제 08-07]

```javascript
// 월을 영어로 변환
var month = 11;
var monthName;

// break문이 없는 경우
switch (month) {
  case 1:
    monthName = 'January';
  case 2:
    monthName = 'February';
  case 3:
    monthName = 'March';
  case 4:
    monthName = 'April';
  case 5:
    monthName = 'May';
  case 6:
    monthName = 'June';
  case 7:
    monthName = 'July';
  case 8:
    monthName = 'August';
  case 9:
    monthName = 'September';
  case 10:
    monthName = 'October';
  case 11:
    monthName = 'November';
  case 12:
    monthName = 'December';
  default:
    monthName = 'Invalid month';
}

console.log(monthName); // Invalid month

// break문이 있는 경우
switch (month) {
  case 1:
    monthName = 'January';
    break;
  case 2:
    monthName = 'February';
    break;
  case 3:
    monthName = 'March';
    break;
  case 4:
    monthName = 'April';
    break;
  case 5:
    monthName = 'May';
    break;
  case 6:
    monthName = 'June';
    break;
  case 7:
    monthName = 'July';
    break;
  case 8:
    monthName = 'August';
    break;
  case 9:
    monthName = 'September';
    break;
  case 10:
    monthName = 'October';
    break;
  case 11:
    monthName = 'November';
    break;
  case 12:
    monthName = 'December';
    break;
  default:
    monthName = 'Invalid month';
}

console.log(monthName); // November
```

#### `default`문

- `default`문은 switch`문의 맨 마지막에 위치
- `default`문의 실행이 종료되면 switch`문을 빠져나간다.
- 따라서 별도의 `break`문이 필요 없다.

#### 폴스루가 유용한 경우

- 폴스루를 이용할 경우 여러 개의 `case`문을 하나의 조건으로 사용할 수 있다.

[예제 08-09]

```javascript
var year = 2000;
var month = 2;
var days = 0;

swith (monht) {
	case 1: case 3: case 5: case 7: case 8: case 10: case 12:
		days = 31;
		break;
	case 4: case 6: case 9: case 11:
		days = 30;
		break;
	case 2:
	  // 윤년 계산 알고리즘
		days = ((year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0)) ? 29 : 28;
		break;
	default:
		console.log("Invalid month");
}

console.log(days); // 29
```
